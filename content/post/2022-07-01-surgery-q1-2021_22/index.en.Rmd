---
title: "Surgery - Q1 Journal list (2022 list with 2021-IFs)"
date: '2022-07-01T16:13:27+03:00'
subtitle: 'List of all Q1 Journals (WOS-IF) in the category "Surgery"'
summary: 'List of all Q1 Journals (WOS-IF) in the category "Surgery"'
authors: [admin]
slug: surgery-q1-2021_22
categories:
  - AcadeMD
tags:
  - WOS
lastmod: '2022-07-01T16:13:27+03:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: 
  - AcadeMD
links:
 - icon: github
   icon_pack: fab
   name: GitHub
   url: "https://github.com/AliGunerMD/aliguner/blob/main/content/post/2022-07-01-surgery-q1-2021_22/index.en.Rmd"
 - icon: link
   icon_pack: fas
   name: Clarivate
   url: "https://jcr.clarivate.com/jcr/browse-journals"
url_pdf: ""
url_code: ""
url_dataset: ""
url_project: ""
url_slides: ""
url_source: ""
url_video: ""
editor_options: 
  chunk_output_type: console
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, out.width = "80%")
```


```{r import library}
library(tidyverse)
library(scales)
library(readxl)
library(here)
library(janitor)
library(flextable)
library(ggrepel)


myblues <- c("#F7FBFF", "#DEEBF7", "#C6DBEF", "#9ECAE1", "#6BAED6", "#4292C6", "#2171B5" ,"#084594")


theme_set(theme_light())
```




```{r}
imported_data <- read_csv(here("datasets", "wos_2021_2022_surgery.csv"),
         skip = 2,
         na = c("n/a", "N/A", "")) %>% 
  clean_names() %>% 
  slice(1:(nrow(.)-3)) 

```


Here is the example of WOS dataset downloaded from the [Journal Citation Reports](https://jcr.clarivate.com/jcr/browse-journals). Filters were;   
**Categories:** Surgery  
**JCR Year:** 2021  (Current most up-to-date list)  
**Citation indexes:** SCIE, ESCI  

Original dataset includes `r nrow(imported_data)` rows and `r ncol(imported_data)` columns. Only `r imported_data %>% count(category) %>% filter(category == "SURGERY - SCIE") %>% pull(n)` are indexed in SCIE, and remaining `r imported_data %>% count(category) %>% filter(category == "SURGERY - ESCI") %>% pull(n)` journals are in ESCI index.

# Original dataset
```{r}
set.seed(2021)
imported_data %>% 
  sample_n(6) %>% 
  knitr::kable(caption = "An example of WOS dataset (6 random rows)")
```

<br>

# Full list 

```{r}
clean_data <- imported_data %>% 
  mutate(across(everything(), ~str_replace_all(., ",", ""))) %>% 
  mutate(journal_name = str_to_title(journal_name),
         journal_name = if_else(str_detect(journal_name, "Jama"), str_replace_all(journal_name, "Jama", "JAMA"), journal_name),
         journal_name = if_else(str_detect(journal_name, "Bjs"), str_replace_all(journal_name, "Bjs", "BJS"), journal_name),
         journal_name = if_else(str_detect(journal_name, "Ejso"), str_replace_all(journal_name, "Ejso", "EJSO"), journal_name),
         journal_name = if_else(str_detect(journal_name, " Of "), str_replace_all(journal_name, " Of ", " of "), journal_name),
         journal_name = if_else(str_detect(journal_name, " And "), str_replace_all(journal_name, " And ", " and "), journal_name),
         journal_name = if_else(str_detect(journal_name, " The "), str_replace_all(journal_name, " The ", " the "), journal_name),
         journal_name = if_else(str_detect(journal_name, " In "), str_replace_all(journal_name, " In ", " in "), journal_name),
         journal_name = if_else(str_detect(journal_name, " For "), str_replace_all(journal_name, " For ", " for "), journal_name),
         journal_name = if_else(journal_name == "Hpb", "HPB", journal_name)) %>% 
      mutate(across(everything(), ~str_replace_all(., ",", " "))) %>% 
  mutate_at(c("total_citations", "x2021_jif", "x2021_jci", "x5_year_jif", "jif_without_self_cites", "immediacy_index", "normalized_eigenfactor", "eigenfactor", "article_influence_score", "jif_percentile", "total_articles", "citable_items"), as.numeric) 
```


```{r}
link <- "https://jcr.clarivate.com/jcr/browse-journals"

# table_2022_q1 %>% 
#   pull(journal_name) %>% cat(sep = '",\n "')

gs_journals <- c(
 "JAMA Surgery",
 "Annals of Surgery",
 "Endoscopy",
 "American Journal of Transplantation",
 "Digestive Endoscopy",
 "Hepatobiliary Surgery and Nutrition",
 "Journal of Hepato-Biliary-Pancreatic Sciences",
 "British Journal of Surgery",
 "Journal of the American College of Surgeons",
 "International Journal of Surgery",
 "Liver Transplantation",
 "World Journal of Emergency Surgery",
 "Annals of Surgical Oncology",
 "Burns & Trauma",
 "Transplantation",
 "Diseases of the Colon & Rectum",
 "Hernia",
 "Surgery for Obesity and Related Diseases",
 "Surgical Endoscopy and Other Interventional Techniques",
 "EJSO",
 "Surgery",
 "Colorectal Disease",
 "BJS Open",
 "Transplant International",
 "Techniques in Coloproctology",
 "HPB",
 "Wound Repair and Regeneration",
 "Surgical Clinics of North America")


table_2022_q1 <- clean_data %>% 
  filter(jif_quartile == "Q1") %>% 
  select(journal_name, x2021_jif, jif_without_self_cites,  total_citations, total_articles, citable_items)
```


```{r}
table_q1_2022_surgery <- table_2022_q1 %>% 
  flextable() %>%
  set_table_properties(width = 1, layout = "autofit") %>% 
  set_header_labels(i = 1, "journal_name" = "Journal name", "x2021_jif" = "Impact factor",  "jif_without_self_cites" = "IF without self-citation" , "total_citations" = "# of citation", "total_articles" =  "# of article", "citable_items" = "# of citable items" ) %>% 
 theme_booktabs() %>% 
 align(part = "all", align = "center", j=2:ncol(table_2022_q1)) %>% 
 add_header_lines(paste0('The list of ', nrow(table_2022_q1),' WOS-Q1 journals in the category "Surgery" \n(year = 2021, released in June 2022)')) %>% 
 fontsize(part = "header", size = 14, i = 1) %>% 
 align(part = "header", align = "center", i=1) %>% 
 align(part = "header", align = "center", i=2, j = 2:ncol(table_2022_q1)) %>% 
 bold(part = "header") %>% 
 bold(part = "body", j = 1, ~journal_name %in% gs_journals) %>% 
 color(part = "header", i=1, color = "#666666") %>% 
 bg(bg = myblues[4], part = "header", i=2) %>% 
 border_remove(.) %>% 
 hline(part="header", i = 1:2) %>% 
 hline(part="body", i = nrow(table_2022_q1)) %>% 
 add_footer_lines ("") %>% 
 color(part = "footer", color = "#666666") %>% 
 align(part = "footer", align = "right",  i=1) %>% 
 compose(part = "footer", value = as_paragraph(hyperlink_text(x= "Data source: Clarivate", url = link))) %>% 
 add_footer_lines("designed by @AliGunerMD")
```

```{r}
table_q1_2022_surgery
```
(Journals related to **"General Surgery"** are in bold.)


```{r}
# Featured figure
 
 set.seed(2022)
 figure_q1_sur <- table_2022_q1 %>% 
  arrange(desc(x2021_jif)) %>% 
  ggplot(aes(citable_items, x2021_jif, label = journal_name)) +
  geom_point(aes(color = x2021_jif, size = total_citations)) +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif > 10),
   nudge_x = -50,
   box.padding = 0.5,
   nudge_y = -.5,
   segment.size  = 0.2,
   segment.color = "#C0C0C0",
   direction = "x",
   max.iter = Inf) +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif > 5 & citable_items > 500),
   nudge_x = 350,
   box.padding = -0,
   nudge_y = .5,
   segment.size  = 0.2,
   segment.color = "#C0C0C0",
   direction = "x") +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 5 & x2021_jif > 4.5 & citable_items > 500),
   nudge_x = 150,
   box.padding = -0,
   nudge_y = -1.5,
   segment.size  = 0.2,
   segment.color = "#C0C0C0",
   direction = "x") +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 4.5 & x2021_jif > 4 & citable_items > 500),
   nudge_x = 150,
   box.padding = -0,
   nudge_y = -.5,
   segment.size  = 0.2,
   segment.color = "#C0C0C0",
   direction = "x") +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 10 & x2021_jif > 5 & citable_items < 500),
   nudge_x = 800,
   box.padding = 1,
   nudge_y = .78 * subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 10 & x2021_jif > 5 & citable_items < 500)$x2021_jif,
   segment.size  = 0.2,
   segment.color = "#C0C0C0",
   direction = "y",
   max.iter = Inf) +
  geom_text_repel(
   data = subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 5 & citable_items < 500),
   nudge_x = 300,
   box.padding = .5,
   nudge_y = -.005 * subset(table_2022_q1, journal_name %in% gs_journals & x2021_jif < 5 & citable_items < 500)$x2021_jif,
   segment.size  = 0.2,
   segment.color = "grey50",
   direction = "y",
   max.iter = Inf) +
  scale_color_continuous(type = "viridis", trans = 'reverse') +
  scale_y_continuous(labels = number_format(accuracy = 1), breaks = c(0, 4, 5, 6, 7, 10, 15), expand = c(0, 0), limits = c(-.1, 16)) +
  scale_x_continuous(labels = comma_format(), breaks = c(0,100,200, 300, 400, 500, 1000), expand = c(0, 0), limits = c(-10, 1500)) +
  scale_size(breaks = c(1e3, 5e3, 1e4, 2e4, 4e4,  6e4), labels = c("1k", "5k", "10k","20k","40k","60k")) +
  expand_limits(y = 0) +
  labs(title = 'WOS-Q1 journals in the category "Surgery" ',
       subtitle = "Relationship among the IF, the # of citable items, and the # of total citations",
       y = "Impact factor",
       x = "Citable items",
       size = "# of citations",
       caption = 'Data source: Clarivate\ndesigned by @AliGunerMD') +
  theme(panel.grid.minor = element_blank(),
        panel.grid.major = element_line(color = "#E8E8E8"),
        plot.title = element_text(hjust = .5, face = "bold"),
        plot.subtitle = element_text(hjust = .5),
        panel.border = element_blank(),
        axis.line =  element_line(color = "#404040"),
        axis.ticks = element_line(color = "#101010")) +
  guides(
    color = "none",
     size = guide_legend(reverse = TRUE,
                         title.hjust = 0.5,
                         label.hjust = 1)) 
 
 ggsave(
   figure_q1_sur,
   file =file.path ("featured.jpg"), 
   width = 9.6,
   height = 7.8
   )
 
 

```


